<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>AngularJS</title>
		<link rel="stylesheet" href="./css/styles.css" />
		<link
			rel="stylesheet"
			href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
			integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
			crossorigin="anonymous"
			referrerpolicy="no-referrer"
		/>
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css"
			rel="stylesheet"
			integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ"
			crossorigin="anonymous"
		/>
	</head>
	<body>
		<div class="container-fluid" ng-app="userManagement" ng-controller="userController">
			<h2 class="text-center my-5">Learning AngularJS</h2>

			<div class="row">
				<div class="col-lg-8">
					<div class="card">
						<div class="card-header bg-primary">
							<h5 class="card-title text-white">User Management</h5>
						</div>
						<div class="card-body">
							<div class="row mb-3">
								<div class="col-lg-6">
									<input
										type="text"
										ng-model="searchName"
										class="w-50 form-control"
										placeholder="Type search name..."
									/>
								</div>

								<div class="col-lg-3 offset-lg-3">
									<select class="form-select" ng-model="sortBy" ng-change="handleChangeSort()">
										<option value="name-asc">Name ASC</option>
										<option value="name-desc">Name DESC</option>
										<option value="age-asc">Age ASC</option>
										<option value="age-desc">Age DESC</option>
									</select>
								</div>
							</div>
							<div class="table-responsive">
								<table class="table table-hover table-striped">
									<thead>
										<tr>
											<th>ID</th>
											<th>Name</th>
											<th>Gender</th>
											<th>Age</th>
											<th>Phone</th>
											<th>Email</th>
											<th>Action</th>
										</tr>
									</thead>
									<tbody>
										<tr
											class=""
											ng-repeat="user in users | filterSortBy:sortBy | searchNameFilter:searchName"
										>
											<td class="">{{user.id}}</td>
											<td class="">{{user.firstName}}</td>
											<td class="">{{user.gender}}</td>
											<td class="">{{user.age}}</td>
											<td class="">{{user.phone}}</td>
											<td class="">{{user.email}}</td>
											<td>
												<button
													type="button"
													class="btn btn-primary"
													ng-click="handleEditUser(user)"
												>
													Edit
												</button>
												<button
													type="button"
													class="btn btn-danger"
													ng-click="deleteUser(user.id)"
												>
													Delete
												</button>
											</td>
										</tr>
									</tbody>
								</table>
							</div>
						</div>
						<div class="d-flex justify-content-end" style="margin-right: 20px">
							<nav aria-label="Page navigation example">
								<ul class="pagination">
									<li class="page-item">
										<a class="page-link" ng-click="handlePageChange(curPage - 1)" href="#"
											>Previous</a
										>
									</li>
									<li class="page-item">
										<a class="page-link" ng-click="handlePageChange(1)" href="#">1</a>
									</li>
									<li class="page-item">
										<a class="page-link" ng-click="handlePageChange(2)" href="#">2</a>
									</li>
									<li class="page-item">
										<a class="page-link" ng-click="handlePageChange(3)" href="#">3</a>
									</li>
									<li class="page-item">
										<a class="page-link" ng-click="handlePageChange(curPage + 1)" href="#">Next</a>
									</li>
								</ul>
							</nav>
						</div>
					</div>
				</div>
				<div class="col-lg-4">
					<div class="card">
						<div class="card-header bg-primary">
							<h5 class="card-title text-white" ng-show="isAdd">Add User</h5>
							<h5 class="card-title text-white" ng-hide="isAdd">Edit User</h5>
						</div>
						<form name="userForm" ng-submit="handleSubmit(userForm)" novalidate>
							<div class="card-body">
								<div class="mb-3">
									<label for="firstName" class="form-label">First Name</label>
									<input
										type="text"
										ng-model="formData.firstName"
										class="form-control"
										id="firstName"
										ng-model-options="{ debounce: 250 }"
										required=""
									/>
									<div ng-show="!userForm.firstName.$error.required" class="valid-feedback">
										Looks good!
									</div>
									<div ng-hide="userForm.firstName.$error.required" class="invalid-feedback">
										First name is required!
									</div>
								</div>
								<div class="mb-3">
									<label for="lastName" class="form-label">Last Name</label>
									<input
										type="text"
										ng-model="formData.lastName"
										class="form-control"
										id="lastName"
										ng-model-options="{ debounce: 250 }"
									/>
								</div>
								<div class="mb-3">
									<label for="male" class="form-check-label">Male</label>
									<input
										type="radio"
										name="gender"
										ng-model="formData.gender"
										class="form-check-input me-4"
										id="male"
										value="male"
									/>
									<label for="female" class="form-check-label">Female</label>
									<input
										type="radio"
										name="gender"
										ng-model="formData.gender"
										class="form-check-input"
										id="female"
										value="female"
									/>
								</div>
								<div class="mb-3">
									<label for="email" class="form-label">Email</label>
									<input
										type="email"
										ng-model="formData.email"
										class="form-control"
										id="email"
										ng-model-options="{ debounce: 250 }"
									/>
								</div>
								<div class="mb-3">
									<label for="phone" class="form-label">Phone</label>
									<input
										type="text"
										ng-model="formData.phone"
										class="form-control"
										id="phone"
										ng-model-options="{ debounce: 250 }"
									/>
								</div>
								<div class="mb-3">
									<label for="age" class="form-label">Age</label>
									<input
										type="number"
										ng-model="formData.age"
										class="form-control"
										id="age"
										ng-model-options="{ debounce: 250 }"
									/>
								</div>
							</div>

							<div class="card-footer">
								<button
									type="submit"
									ng-show="isAdd"
									class="btn btn-primary"
									ng-disabled="!userForm.$dirty"
								>
									Add
								</button>
								<button
									type="submit"
									ng-hide="isAdd"
									class="btn btn-primary"
									ng-disabled="!userForm.$dirty"
								>
									Save
								</button>
								<button type="button" class="btn btn-primary" ng-click="resetForm()">Reset</button>
							</div>
						</form>
					</div>
				</div>
			</div>
		</div>

		<!-- script -->
		<script src="https://unpkg.com/react@16.14.0/umd/react.production.min.js"></script>
		<script src="https://unpkg.com/react-dom@16.14.0/umd/react-dom.production.min.js"></script>
		<script
			src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
			integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
			crossorigin="anonymous"
		></script>
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>
		<script src="./js/app.js"></script>
		<script src="./js/services.js"></script>
		<script src="./js/filters.js"></script>
		<script src="./js/controllers.js"></script>
		<script src="./js/directives.js"></script>
	</body>
</html>
